<!DOCTYPE html>
<html>

    <head>
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/prism.css">
        <script src="/global JS files/prism.js"></script>
    </head>

    <body>
        <h2>Babel</h2>
        <p><b>Babel</b> - это транспилер. ОН переписывает современный JS код в предыдущий стандарт.</p>
        <p>Есть две части <b>Babel</b>:</p>
        <ol>
            <li>Сам транспилер, он переписывает код в старый стандарт. Затем код отправляется на сайт. Современные сборщики типа <a href="http://webpack.github.io/">webpack</a> и <a href="https://brunch.io/">brunch</a> позволяют запускать транспилер автоматически после каждого изменения кода.</li>
            <li>Полифил - заполняет пробелы и добавляет современные функции. Два интересных хранилища полифилов:
                <ul>
                    <li><a href="https://github.com/zloirock/core-js">core js</a> поддерживает много функций, можно подключить только нужные.</li>
                    <li><a href="https://polyfill.io/v3/">polyfill.io</a> сервис, который автоматические создает скрипт с полифилом, в зависимости от необходимых функций и браузера пользователя.</li>                
                </ul>
            </li>
        </ol>
        <hr>

        <h3>Транспиляторы</h3>
        <p>До 2020 года не было оператора нулевого слияния <b>'??'</b> и если пользователь использует устаревший браузер, то могут быть проблемы с таким кодом <code class="lang-js">height = height ?? 100</code></p>

        <p>Транспилятор проанализирует код и перепишет вот так: <code class="lang-js">height = (!== undefined && height !== null) ? height : 100;</code>.</p>
        <hr>

        <h3>Полифиллы</h3>
        <p>Новые возможности языка могут включать не только синтаксические конструкции и операторы, но и встроенные функции.</p>
        <p>Например, <code class="lang-js">Math.trunc(n)</code> это функция, которая отрезает десятичную часть числа, например <code class="lang-js">Math.trunc(1.23)</code> возвращает <code class="lang-js">1</code>. В устаревшей версии ее нет. И так как тут не идёт речь об изменении синтаксиса, нам просто нужно объявить недостающую функцию.</p>
        <p>Скрипт, который обновляет/добавляет новые функции, называется <b>полифилл</b>. Он «заполняет» пробел и добавляет недостающие реализации.</p>
        <p>В этом случае, <b>полифилл</b> для <code class="lang-js">Math.tranc</code> - это скрипт, который его реализует.</p>
        
        <pre><code class="lang-js">if (!Math.trunc) { // Если такой функции нет
            // Реализовать это
            Math.trunc = function(number) {
              // Math.ceil и Math.floor Есть даже в древнем движке JS
              // они будут рассмотрены позже
              return number < 0 ? Math.ceil(number) : Math.floor(number);
            };
          }</code></pre>
    </body>
</html>